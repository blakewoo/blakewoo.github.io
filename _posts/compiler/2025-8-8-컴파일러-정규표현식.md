---
title: 컴파일러 - 정규표현식
author: blakewoo
date: 2025-8-8 23:00:00 +0900
categories: [Compiler]
tags: [Compiler, Rational expression] 
render_with_liquid: false
use_math: true
---

# 컴파일러 - 정규표현식(rational expression)
## 1. 개요
사실 정규표현식이야 개발간에 많이 사용한다.   
가령 로그인간 아이디 형태 검증이나, 이메일 형태 검증만 예시를 들어도 바로 알 수 있을 것이다.
이러한 정규표현식은 컴파일러에서 해당 소스코드를 토큰으로 분할하는 패턴을 정의할때 가장 많이 사용한다.

## 2. 쓰이는 방식
1. 각 토큰 종류에 대해 정규표현식을 하나씩 정의한다.
2. 입력 스트림에서 가장 긴 매치(최대 일치, max-munch)를 찾고 해당 규칙의 액션(토큰 생성 등)을 실행한다.
3. 토큰 우선순위(길이 동일 시 규칙 순서 또는 우선순위 테이블)에 따라 결정한다.

## 3. 정규표현식 문법
기본 문법을 요약해서 표로 나타내면 아래와 같다.

| 기호              | 의미               | 예시                   |
| --------------- | ---------------- | -------------------- |
| `.`             | 임의의 한 문자         | `a.c` → `abc`, `axc` |
| `\d`            | 숫자               | `\d{4}` → 4자리 숫자     |
| `\w`            | 단어문자(영문, 숫자, \_) | `\w+`                |
| `\s`            | 공백 문자            | `\s+`                |
| `^` / `$`       | 문자열 시작 / 끝       | `^abc` / `xyz$`      |
| `[...]`         | 문자 클래스           | `[A-Z]`              |
| `*` / `+` / `?` | 반복               | `\d+` = 1개 이상 숫자     |
| `{m,n}`         | 반복 범위            | `\d{2,4}`            |
| `()`            | 그룹화              | `(abc)+`             |
| `?` (lazy)      | 최소 반복            | `.*?`                |

## 4. 실제 컴파일러에서 사용하는 예시

```
# 공통 패턴 (정규표현식 문법은 엔진마다 차이)
WHITESPACE   = [ \t\r\n]+
IDENTIFIER   = [A-Za-z_][A-Za-z0-9_]*
INT_LITERAL  = (0|[1-9][0-9]*)        # 10진 정수
FLOAT        = [0-9]+\.[0-9]+([eE][+-]?[0-9]+)?
STRING       = "(?:\\.|[^"\\])*"      # escapes 처리 필요
LINE_COMMENT = //.*(?:\r?\n|$)
BLOCK_COMMENT= /\*([^*]|\*+[^*/])*\*+/
OPERATORS    = \+|\-|\*|\/|==|!=|<=|>=|<|>
```

## 5. 한계
- 스택이 필요한 중첩구조(중첩 괄호 등)을 처리하지 못하므로 파서나 상태 기반 처리를 해주어야한다.
- 복잡한 백트래킹 패턴은 입력 길이에 따라 매우 느려질 수 있다.
- 문자 인코딩의 차이나 유니코드 처리에 따라 읽는 범위를 달리 처리해주어야한다.

> 추가 업데이트 예정
{: .prompt-tip }

# 참고자료
- 컴파일러 : 원리, 기법, 도구 제 2판. ALFRED V. AHO, MONICA S. LAM, RAVI SETHI, JEFFREY D. ULLMAN. 우원희, 신승철, 우균, 하상호 옮김
- [위키백과 - 컴파일러](https://ko.wikipedia.org/wiki/%EC%98%A4%ED%86%A0%EB%A7%88%ED%83%80_%EC%9D%B4%EB%A1%A0)
- [Lexical Analysis With Flex, for Flex 2.6.2](https://westes.github.io/flex/manual/Patterns.html#Patterns)
