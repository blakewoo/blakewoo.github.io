---
title: Database - 트랜잭션
author: blakewoo
date: 2025-5-27 17:30:00 +0900
categories: [Database]
tags: [Database, DBMS ,Transaction]
render_with_liquid: false
use_math: true
---

# Database - Transaction
사실 이전에 각 DBMS에서 트랜잭션을 어떻게 걸고 어떻게 커밋하고 어떻게 롤백하는지에 대해서는 언급한적이 있지만
실질적으로 Transaction이 무엇인지에 대해서 언급한적은 없는거 같다.
그래서 오늘은 트랜잭션이 무엇인지에 대해서 말해보려고한다.

## 1. 개요
트랜잭션이란 DBMS에서 구동되는 명령어들의 최소 유닛인데, 한 개의 명령어 혹은 다수의 명령어가
순차적으로 실행된다. 이 명령어 묶음은 더 쪼갤 수 없으며 묶음이 전체 다 실행되는게 아니라면 실행되기 전으로
되돌려야(Rollback)한다. 

## 2. 트랜잭션이 가져야할 필수 요소
데이터가 정확하냐에 대한 내용으로 이 Correctness를 유지하기 위해서는 아래 4요소를 만족해야한다.

### 1) Atomicity
원자성이라고 해석할 수 있으며 실행 혹은 취소(Rollback) 특성은 이 원자성때문에 생기는 것이다.   
이 원자성이 보장되지 않는다면 하고자하는 데이터의 작업에 다른 작업이 끼어들게 되고 이로 인해
데이터의 정합성이 맞지 않게 된다.

이러한 Atomicity를 유지하기 위한 방법은 아래의 두 가지가 있다.

#### ㄱ. Logging
모든 작업에 대해서 기록해두는 것이다. 어떻게 작업했는지 기록이 남아있다면 그 기록을 읽어
반대로 진행하면 된다.

#### ㄴ. Shadow Paging
페이지를 복사해두고 복사본에 작업한 뒤에 트랜잭션이 커밋되면 해당 페이지를 Visible하게 처리한다.

### 2) Consistency
일관성이라고 해석 될 수 있다.

### 3) Isolation
고립 혹은 격리라고 해석 할 수 있다. 한 개의 트랜잭션은 다른 트랜잭션으로부터 격리되어 실행된다.

이 격리를 구현하는 방식은 총 두 가지 카테고리로 프로토콜이 있다.

#### ㄱ. Pessimistic
아예 처음부터 격리 문제가 발생하지 않게끔 하는 것이다.

#### ㄴ. Optimistic
어떤 작업 후에 Conflict가 생기면 이후에 fix하는 방식이다.

### 4) Durability
내구성 정도로 해석할 수 있으며 어떤 트랜잭션이 commit된다면 해당 트랜잭션은 지속되는 것을 말한다.


> ※ 추가 업데이트 및 검증 예정이고, 아직 완벽하지 않으니 참고만 바란다.
{: .prompt-tip }


# 참고자료
- 서강대학교 김영재 교수님 고급데이터 베이스 강의 자료
