---
title: CUDA 설치 및 예제 운용
author: blakewoo
date: 2025-3-6 16:00:00 +0900
categories: [Trial and error]
tags: [GPU, CUDA] 
render_with_liquid: false
---

# CUDA 환경 구성
CUDA 프로그래밍을 하기 위해서는 먼저 관련 드라이버를 설치해야한다.   
이번 포스팅은 CUDA 프로그래밍을 하기 위한 관련 드라이버를 설치하고 개발 환경을 구성해보겠다.

## 1. 설치
### 1) 윈도우 기반

#### a. 툴킷 설치
먼저 윈도우 환경에서 설치해보도록 하겠다.
당연하지만 CUDA 프로그래밍을 하기 위해서는 먼저 NVIDIA 그래픽 카드가 필요하다.
현재 내 컴퓨터는 Geforce RTX 3070 그래픽 카드가 설치되어있다.   

아래의 표를 참고하여 어떤 Toolkit을 설치해야하는지 알아봐야한다.


<table class="wikitable sticky-header">
<caption>Compute capability (CUDA SDK support vs. microarchitecture)[2]
</caption>
<tbody><tr>
<th>CUDA SDK<br>version(s)</th>
<th>Tesla</th>
<th>Fermi</th>
<th>Kepler<br>(early)</th>
<th>Kepler<br>(late)</th>
<th>Maxwell</th>
<th>Pascal</th>
<th>Volta</th>
<th>Turing</th>
<th>Ampere</th>
<th>Ada<br>Lovelace</th>
<th>Hopper</th>
<th>>Blackwell
</th></tr>
<tr>
<td>1.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">1.0 – 1.1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>1.1</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">1.0 – 1.1+x</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>2.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">1.0 – 1.1+x</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>2.1 – 2.3.1</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">1.0 – 1.3</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>3.0 – 3.1</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">1.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">2.0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>3.2</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">1.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">2.1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>4.0 – 4.2</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">1.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">2.1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>5.0 – 5.5</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">1.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">3.5</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>6.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">1.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">3.2</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">3.5</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>6.5</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">1.1</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">3.7</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">5.x</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>7.0 – 7.5</td>
<td></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">2.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">5.x</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>8.0</td>
<td></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">2.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">6.x</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>9.0 – 9.2</td>
<td></td>
<td></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">3.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">7.0 – 7.2</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>10.0 – 10.2</td>
<td></td>
<td></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">3.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">7.5</td>
<td></td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>11.0</td>
<td></td>
<td></td>
<td></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">3.5</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">8.0</td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>11.1 – 11.4</td>
<td></td>
<td></td>
<td></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">3.5</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">8.6</td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>11.5 – 11.7.1</td>
<td></td>
<td></td>
<td></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">3.5</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">8.7</td>
<td></td>
<td></td>
<td>
</td></tr>
<tr>
<td>11.8</td>
<td></td>
<td></td>
<td></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">3.5</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">8.9</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">9.0</td>
<td>
</td></tr>
<tr>
<td>12.0 – 12.6</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">5.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">9.0</td>
<td>
</td></tr>
<tr>
<td>12.8</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">5.0</td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes"></td>
<td style="background:#9EFF9E;color:black;vertical-align:middle;text-align:center;" class="table-yes">12.0
</td></tr></tbody></table>

위에는 각 세대별 명칭인데, 3000번때는 Ampere이다.   
SDK 지원범위가 8.0 ~ 12.0까지이다. 사실상 12번대 SDK는 모두 지원하는것이므로
(만약에 본인이 매우 구버전 GPU를 가지고 있다면 표를 기준으로 적절히 선택하길 바란다)   
일단 나는 가장 최근 버전인 CUDA Toolkit 12.8을 설치하도록 하겠다.

최신 버전의 CUDA Toolkit을 받을 수 있는 먼저 [NVIDIA 공식 홈페이지](https://developer.nvidia.com/cuda-downloads) 에 들어가서
자신의 OS에 맞는 설정을 선택하면 아래와 같이 나온다.

![img.png](/assets/blog/gpu/cuda_install/img.png)

파일을 다운로드 한 다음에 실행해준다. 그 뒤에는 그냥 안내에 따라 설치해주면 된다.

#### b. Visual Studio 2022 설치
일단 Visual Studio를 설치해서 CUDA Toolkit과 연동할 것이다. 
먼저 Microsoft의 [Visual Studio 홈페이지](https://visualstudio.microsoft.com/ko/) 에 들어가서 설치하도록 한다.

![img_1.png](/assets/blog/gpu/cuda_install/img_1.png)

다운로드 후 실행하면 이것저것 설치되며 다음과 같은 화면이 나오는데 아래와 같이 선택하면 된다.

![img_2.png](/assets/blog/gpu/cuda_install/img_2.png)


### 2) 리눅스 기반
> ※ 차후 업데이트 예정
{: .prompt-tip }

## 2. 예제
NVIDIA에서 제공하는 샘플 프로젝트를 돌려볼 수도 있겠지만 아직 12.8버전에 맞는 샘플이 나오지 않아 돌려볼 순 없다.   
(정확하게는 꼼수를 써서 가능은 하긴 하지만 그다지 권장하지 않는다)
따라서 그냥 Visual Studio에서 새 프로젝트를 만들어서 구동해보는 형태로 해볼 것이다.   
먼저 Visual Studio를 구동하고 새 프로젝트 만들기를 누른다.

![img_3.png](/assets/blog/gpu/cuda_install/img_3.png)

이후 목록 중에 CUDA 12.8 Runtime이라고 되어있는 항목을 누르고 다음을 누르고
프로젝트 이름을 지정해준다음에 만들어준다.

![img_4.png](/assets/blog/gpu/cuda_install/img_4.png)

그러면 간단한 예제와 함께 프로젝트가 생성된다.   
이 예제는 GPU를 이용해서 행렬 연산을 하는 예제이다.
제일 위에 디버그 없이 빌드 버튼을 눌렀을때 아래와 같이 나온다면 아무런 문제없이 설치된 것이다.

![img_5.png](/assets/blog/gpu/cuda_install/img_5.png)
