---
title: 리눅스 - 인터럽트
author: blakewoo
date: 2024-12-16 20:00:00 +0900
categories: [Linux]
tags: [Computer science, Linux, OS] 
render_with_liquid: false
use_math: true
---

# 인터럽트(Interrupt)
## 1. 개요
한국말로 직역하면 끼어듦, 가로막기이다.
CPU가 프로세스를 실행 도중 즉각적인 처리가 필요한 일이 생길때 하드웨어 또는 소프트웨어에서 프로세서에 신호를 줘서
늦지 않게 이를 처리할 수 있도록 하는 것을 말한다.

종류에는 총 두 가지가 있다.
### 1) 하드웨어 인터럽트
키보드나 마우스와 같은 모든 하드웨어 입력이 하드웨어 인터럽트를 통해 작동한다. 
기기 작동이 클럭과 동기화 되어있지 않으므로 클럭과 무관하게 발생하며 이러한 하드웨어 인터럽트를 통해 커널은
언제라도 방해받을 수 있다.

### 2) 소프트웨어 인터럽트
트랩이나 예외라고 불리기도 하는 이 소프트웨어 인터럽트는 운영체제나 시스템 서비스가 특정 기능을 수행하거나
오류 조건에 대응하도록 하는 역할을 한다.   
클럭과 관계없이 발생하는 하드웨어 인터럽트와는 별개로 클럭과 동기화되어 발생하는데
이전 포스팅에서 언급했던 시스템 호출도 이러한 소프트웨어 인터럽트를 통해 발생한다.

인터럽트를 받은 프로세서는 인터럽트를 처리하기 위해 하던 일을 중단 한후 운영체제에 인터럽트가 발생했음을 알린다.   
그러면 운영체제에서 상황에 맞게 인터럽트를 처리한다.   
각 인터럽트별로 고유한 값을 할당 할 수 있으며 장비에 따라 다른 인터럽트를 할당 할 수 있다.
때문에 기기마다 발생하는 인터럽트는 다르며 기기마다 다르기때문에 운영체제는 인터럽트를 구별하고 인터럽트가 발생한
하드웨어가 어떤것인지 식별한다.

인터럽트 값을 인터럽트 요청(IRQ, Interrupt ReQuest) 라인이라고 부르며 각 IRQ라인에는 번호가 붙어있다.   
일반 PC의 경우 IRQ0는 타이머 인터럽트, IRQ1은 키보드 인터럽트인 식으로 말이다. 하지만 모든 인터럽트 번호가 고정되어있지 않으며
PCI 버스에 연결된 장치는 동적으로 인터럽트 번호가 지정된다.

이렇게 식별된 인터럽트는 고유한 핸들러를 통해 처리되는데 이를 인터럽트 핸들러라고 한다.

## 2. 인터럽트 핸들러
인터럽트를 처리하이 위해 커널이 실행하는 함수를 인터럽트 핸들러(Interrupt Handler), 혹은 인터럽트 서비스 루틴(Interrupt Service Routine)
이라고 한다. 인터럽트를 발생시키는 각 장치별로 인터럽트 핸들러가 있으며 그 장치들이 인터럽트를 발생시키면 발생시킨 장치를
대상으로 하는 인터럽트 핸들러를 가지고 처리되는 식이다.   
리눅스의 인터럽트 핸들러는 일반적인 C함수이며 표준적인 방식으로 커널이 핸들러에 정보를 전달할 수 있게 정해진 함수원형을
사용해야한다는 점만 제외하면 보통함수와 크게 다르지 않다.

단지 인터럽트가 발생했을때만 실행된다는 점과 인터럽트 컨텍스트(Interrupt Context)라고 불리는 특별한 컨텍스트에서
실행된다는 점이다. 이 인터럽트 컨텍스트에서 코드를 실행하고 있으며 실행이 중단 될수 없기 때문에 단위 컨텍스트(Atomic Context)라고도 불린다.


## 3. 인터럽트 처리 절차
### 1) 전반부
### 2) 후반부
※ 추가 포스팅 예정

# 참고문헌
- [위키백과 - 인터럽트](https://ko.wikipedia.org/wiki/%EC%9D%B8%ED%84%B0%EB%9F%BD%ED%8A%B8)
- 리눅스 커널 심층분석 (에이콘 임베디드 시스템프로그래밍 시리즈 33,  로버트 러브 저자(글) · 황정동 번역)
- [geeks for geeks - interrupt](https://www.geeksforgeeks.org/interrupts/)
